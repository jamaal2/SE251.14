<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/home.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
</head>
<body>
    <nav><a href="index.html">HOME</a></nav>
    <main>
        <section class="blank"></section>
        <section id="content">
            <div id="menus">
                <!--<div id="start-options">
                    <button data-load="false">New Game</button>
                    <button data-load="true">Continue</button> 
                    <button>High Scores</button> 
                </div>-->
            </div>
        </section>
        <section class="blank"></section>
    </main>
    <script src="js/User.js"></script>



    <script>
        var menus = document.querySelector(`#menus`);

        // Loading icon code
        const loadDiv = document.createElement(`div`);
        loadDiv.setAttribute(`id`, `load`);
        menus.appendChild(loadDiv);
     
        const startMenu = document.createElement(`div`);
        startMenu.setAttribute(`id`, `start`);
        startMenu.style.opacity = `0`;
        
        const startButton = document.createElement(`button`);
        startButton.appendChild(document.createTextNode(`Start`));
        startMenu.appendChild(startButton);

        const optionsMenu = document.createElement(`div`);
        optionsMenu.setAttribute(`id`, `options`);
        optionsMenu.style.opacity = `0`;

        const newGameButton = document.createElement(`button`);
        newGameButton.setAttribute(`data-load`, `false`);
        newGameButton.appendChild(document.createTextNode(`New Game`));
        optionsMenu.appendChild(newGameButton);

        const continueButton = document.createElement(`button`);
        continueButton.setAttribute(`data-load`, `true`);
        continueButton.appendChild(document.createTextNode(`Continue`));
        optionsMenu.appendChild(continueButton);

        const highScoreButton = document.createElement(`button`);
        highScoreButton.appendChild(document.createTextNode(`Highscores`));
        optionsMenu.appendChild(highScoreButton);

        const highScores = document.createElement(`div`);
        highScores.setAttribute(`id`, `high-scores`);

        var timer = setTimeout(loadStartMenu, 1000);
        function loadStartMenu() {
            $(`#load`).animate({ opacity: 0 }, 2000, function() {
                menus.removeChild(loadDiv);
                menus.appendChild(startMenu);
                $(`#start`).animate({ opacity: 1 }, 2000);
            });
        }

        function loadOptionsMenu() {
            $(`#start`).animate({ opacity: 0 }, 250, function() {
                menus.removeChild(startMenu);
                menus.appendChild(optionsMenu);
                $(`#options`).animate({ opacity: 1 }, 2000);
            });
        }

        startButton.addEventListener(`click`, (e) => {
            console.log(`hi`);
            $(`#start`).animate({ opacity: 0 }, 250, function() {
                var timer = setTimeout(loadOptionsMenu, 1000);
            });
        });

        newGameButton.addEventListener(`click`, (e) => {
            console.log(`hello`);
            $(`#options`).animate({ opacity: 0 }, 500, function() {
                window.location = `lobby.html?load=${e.target.dataset.load}`;
            });
        });

        continueButton.addEventListener(`click`, (e) => {
            console.log(`hi`);
            $(`#options`).animate({ opacity: 0 }, 500, function() {
                window.location = `lobby.html?load=${e.target.dataset.load}`;
            });
        });

        highScoreButton.addEventListener(`click`, (e) => {
            console.log(`hi`);
            $(`#options`).animate({ opacity: 0 }, 500, function() {
                window.location = `highscore.html`;
            });
        });

    </script>
</body>
</html>